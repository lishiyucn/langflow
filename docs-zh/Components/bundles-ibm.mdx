---
title: IBM
slug: /bundles-ibm
---

import Icon from "@site/src/components/icon";

[组件包](/components-bundle-components) 包含支持与 Langflow 特定第三方集成的自定义组件。

**IBM** 组件包提供对 IBM watsonx.ai 模型的访问，用于文本和嵌入生成。
这些组件需要 IBM watsonx.ai 部署和 watsonx API 凭据。

## IBM watsonx.ai

**IBM watsonx.ai** 组件使用 [IBM watsonx.ai](https://www.ibm.com/products/watsonx-ai) 中[支持的基础模型](https://dataplatform.cloud.ibm.com/docs/content/wsj/analyze-data/fm-models.html?context=wx)生成文本。

您可以在流程中需要语言模型的任何地方使用此组件。

![A basic prompting flow using the IBM watsonx.ai component as the central language model component.](/img/component-watsonx-model.png)

### IBM watsonx.ai 参数 {#ibm-watsonxai-parameters}

许多 **IBM watsonx.ai** 组件输入参数在可视化编辑器中默认为隐藏状态。
您可以通过[组件标题菜单](/concepts-components#component-menus)中的 <Icon name="SlidersHorizontal" aria-hidden="true"/> **控件** 来切换参数。

| 名称 | 类型 | 描述 |
|------|------|-------------|
| url | String | 输入参数。用于您的部署和区域的 [watsonx API 基础 URL](https://cloud.ibm.com/apidocs/watsonx-ai#endpoint-url)。 |
| project_id | String | 输入参数。您的 [watsonx 项目 ID](https://www.ibm.com/docs/en/watsonx/saas?topic=projects)。 |
| api_key | SecretString | 输入参数。用于验证对指定 watsonx.ai 部署和模型的 watsonx API 访问的 [watsonx API 密钥](https://www.ibm.com/docs/en/watsonx/saas?topic=administration-managing-user-api-key)。 |
| model_name | String | 输入参数。要使用的 watsonx 模型名称。选项从 API 动态获取。 |
| max_tokens | Integer | 输入参数。要生成的最大令牌数。默认：`1000`。 |
| stop_sequence | String | 输入参数。应该停止生成的序列。 |
| temperature | Float | 输入参数。控制输出的随机性。默认：`0.1`。 |
| top_p | Float | 输入参数。控制核抽样，将模型限制为概率低于 `top_p` 值的令牌。范围：默认：`0.9`。 |
| frequency_penalty | Float | 输入参数。控制频率惩罚。正值降低重复令牌的概率，负值增加概率。范围：默认：`0.5`。 |
| presence_penalty | Float | 输入参数。控制存在惩罚。正值增加引入新主题的可能性。默认：`0.3`。 |
| seed | Integer | 输入参数。模型的随机种子。默认：`8`。 |
| logprobs | Boolean | 输入参数。是否返回输出令牌的对数概率。默认：`True`。 |
| top_logprobs | Integer | 输入参数。在每个位置返回的最可能令牌数。默认：`3`。 |
| logit_bias | String | 输入参数。用于偏置或抑制的令牌 ID 的 JSON 字符串。 |

### IBM watsonx.ai 输出

**IBM watsonx.ai** 组件可以输出 **模型响应**（[`Message`](/data-types#message)）或 **语言模型**（[`LanguageModel`](/data-types#languagemodel)）。

当您想要将 IBM watsonx.ai 模型用作另一个 LLM 驱动组件（如 **语言模型** 或 **智能函数** 组件）的 LLM 时，请使用 **语言模型** 输出。
有关更多信息，请参阅 [**语言模型** 组件](/components-models)。

**IBM watsonx.ai** 组件的 `LanguageModel` 输出是根据[组件参数](#ibm-watsonxai-parameters)配置的 [ChatWatsonx](https://python.langchain.com/docs/integrations/chat/ibm_watsonx/) 实例。

## IBM watsonx.ai Embeddings

**IBM watsonx.ai Embeddings** 组件使用 [IBM watsonx.ai](https://www.ibm.com/products/watsonx-ai) 中的[支持的基础模型](https://dataplatform.cloud.ibm.com/docs/content/wsj/analyze-data/fm-models.html?context=wx)进行嵌入生成。

输出是使用 [`WatsonxEmbeddings`](https://python.langchain.com/docs/integrations/text_embedding/ibm_watsonx/) 生成的 [`Embeddings`](/data-types#embeddings)。

有关在流程中使用嵌入模型组件的更多信息，请参阅 [**嵌入模型** 组件](/components-embedding-models)。

![A basic embedding generation flow using the IBM watsonx.ai Embeddings component](/img/component-watsonx-embeddings-chroma.png)

### IBM watsonx.ai Embeddings 参数

一些 **IBM watsonx.ai Embeddings** 组件输入参数在可视化编辑器中默认为隐藏状态。
您可以通过[组件标题菜单](/concepts-components#component-menus)中的 <Icon name="SlidersHorizontal" aria-hidden="true"/> **控件** 来切换参数。

| 名称 | 显示名称 | 信息 |
|------|--------------|------|
| url | watsonx API 端点 | 输入参数。用于您的部署和区域的 [watsonx API 基础 URL](https://cloud.ibm.com/apidocs/watsonx-ai#endpoint-url)。 |
| project_id | watsonx 项目 ID | 输入参数。您的 [watsonx 项目 ID](https://www.ibm.com/docs/en/watsonx/saas?topic=projects)。 |
| api_key | API 密钥 | 输入参数。用于验证对指定 watsonx.ai 部署和模型的 watsonx API 访问的 [watsonx API 密钥](https://www.ibm.com/docs/en/watsonx/saas?topic=administration-managing-user-api-key)。 |
| model_name | 模型名称 | 输入参数。要使用的嵌入模型名称。支持[默认嵌入模型](#default-embedding-models)，并在连接到您的 watsonx.ai 部署后自动更新。 |
| truncate_input_tokens | 截断输入令牌 | 输入参数。要处理的最大令牌数。默认：`200`。 |
| input_text | 在输出中包含原始文本 | 输入参数。确定输出中是否包含原始文本。默认：`True`。 |

### 默认嵌入模型

默认情况下，**IBM watsonx.ai Embeddings** 组件支持以下默认模型：

- `sentence-transformers/all-minilm-l12-v2`：384 维嵌入
- `ibm/slate-125m-english-rtrvr-v2`：768 维嵌入
- `ibm/slate-30m-english-rtrvr-v2`：768 维嵌入
- `intfloat/multilingual-e5-large`：1024 维嵌入

输入 API 端点和凭据后，组件会自动从您的 watsonx.ai 部署中获取可用模型列表。

## 相关参考

* [IBM 文档](https://cloud.ibm.com/docs)