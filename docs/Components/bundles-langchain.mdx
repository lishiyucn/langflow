---
title: LangChain
slug: /bundles-langchain
---

import Icon from "@site/src/components/icon";

[Bundle](/components-bundle-components) 包含支持与 Langflow 特定第三方集成的自定义组件。

本页面描述了 **LangChain** bundle 中可用的组件。

## CSV Agent

此组件基于 [**Agent** 核心组件](/agents)。

此组件从 CSV 文件和 LLM 创建 CSV 代理。
有关更多信息，请参阅 [LangChain CSV 代理文档](https://python.langchain.com/api_reference/experimental/agents/langchain_experimental.agents.agent_toolkits.csv.base.create_csv_agent.html)。

### CSV Agent 参数

| 名称 | 类型 | 描述 |
|------|------|-------------|
| llm | LanguageModel | 输入参数。代理使用的语言模型。 |
| path | File | 输入参数。CSV 文件的路径。 |
| agent_type | String | 输入参数。要创建的代理类型。 |
| agent | AgentExecutor | 输出参数。CSV 代理实例。 |

## OpenAI Tools Agent

此组件基于 [**Agent** 核心组件](/agents)。

此组件创建 OpenAI Tools Agent。
有关更多信息，请参阅 [LangChain OpenAI 代理文档](https://api.python.langchain.com/en/latest/agents/langchain.agents.openai_functions_agent.base.create_openai_functions_agent.html)。

### OpenAI Tools Agent 参数

| 名称 | 类型 | 描述 |
|------|------|-------------|
| llm | LanguageModel | 输入参数。要使用的语言模型。 |
| tools | List of Tools | 输入参数。给代理访问的工具。 |
| system_prompt | String | 输入参数。为代理提供上下文的系统提示。 |
| input_value | String | 输入参数。用户对代理的输入。 |
| memory | Memory | 输入参数。代理用于上下文持久性的内存。 |
| max_iterations | Integer | 输入参数。允许代理执行的最大迭代次数。 |
| verbose | Boolean | 输入参数。这决定是否打印代理的中间步骤。 |
| handle_parsing_errors | Boolean | 输入参数。这决定是否处理代理中的解析错误。 |
| agent | AgentExecutor | 输出参数。OpenAI Tools 代理实例。 |
| output | String | 输出参数。在输入上执行代理的输出。 |

## OpenAPI Agent

此组件基于 [**Agent** 核心组件](/agents)。

此组件创建用于与 OpenAPI 服务交互的代理。
有关更多信息，请参阅 [LangChain OpenAPI 工具包文档](https://python.langchain.com/docs/integrations/tools/openapi/)。

### OpenAPI Agent 参数

| 名称 | 类型 | 描述 |
|------|------|-------------|
| llm | LanguageModel | 输入参数。要使用的语言模型。 |
| openapi_spec | String | 输入参数。服务的 OpenAPI 规范。 |
| base_url | String | 输入参数。API 的基础 URL。 |
| headers | Dict | 输入参数。API 请求的可选标头。 |
| agent_executor_kwargs | Dict | 输入参数。代理执行器的可选参数。 |
| agent | AgentExecutor | 输出参数。OpenAPI 代理实例。 |

## Prompt Hub

此组件从 [LangChain Hub](https://docs.smith.langchain.com/old/category/prompt-hub) 获取提示。

像 [**Prompt Template** 核心组件](/components-prompts) 一样，会为提示中的每个变量向组件添加额外字段。
例如，默认提示 `efriis/my-first-prompt` 为 `profession` 和 `question` 添加字段。

### Prompt Hub 参数

| 名称                | 显示名称              | 描述                              |
|---------------------|---------------------------|------------------------------------------|
| langchain_api_key   | Your LangChain API Key    | 输入参数。要使用的 LangChain API 密钥。 |
| langchain_hub_prompt| LangChain Hub Prompt      | 输入参数。要使用的 LangChain Hub 提示。  |
| prompt              | Build Prompt              | 输出参数。由 `build_prompt` 方法返回的构建提示消息。   |

## SQL Agent

此组件基于 [**Agent** 核心组件](/agents)。

此组件创建用于与 SQL 数据库交互的代理。
有关更多信息，请参阅 [LangChain SQL 代理文档](https://python.langchain.com/docs/tutorials/sql_qa/)。

### SQL Agent 参数

| 名称 | 类型 | 描述 |
|------|------|-------------|
| llm | LanguageModel | 输入参数。要使用的语言模型。 |
| database | Database | 输入参数。SQL 数据库连接。 |
| top_k | Integer | 输入参数。从 SELECT 查询返回的结果数。 |
| use_tools | Boolean | 输入参数。这决定是否使用工具执行查询。 |
| return_intermediate_steps | Boolean | 输入参数。这决定是否返回代理的中间步骤。 |
| max_iterations | Integer | 输入参数。运行代理的最大迭代次数。 |
| max_execution_time | Integer | 输入参数。最大执行时间（秒）。 |
| early_stopping_method | String | 输入参数。用于提前停止的方法。 |
| verbose | Boolean | 输入参数。这决定是否打印代理的思考。 |
| agent | AgentExecutor | 输出参数。SQL 代理实例。 |

## SQL Database

LangChain **SQL Database** 组件建立与 SQL 数据库的连接。

此组件与 [**SQL Database** 核心组件](/components-data#sql-database) 不同，后者在 SQLAlchemy 兼容数据库上执行 SQL 查询。

## Text Splitters

LangChain bundle 包含以下文本分割组件：

- **Character Text Splitter**
- **Language Recursive Text Splitter**
- **Natural Language Text Splitter**
- **Recursive Character Text Splitter**
- **Semantic Text Splitter**

## Tool Calling Agent

此组件基于 [**Agent** 核心组件](/agents)。

此组件创建用于与各种语言模型进行结构化工具调用的代理。
有关更多信息，请参阅 [LangChain 工具调用文档](https://python.langchain.com/docs/concepts/tool_calling/)。

### Tool Calling Agent 参数

| 名称 | 类型 | 描述 |
|------|------|-------------|
| llm | LanguageModel | 输入参数。要使用的语言模型。 |
| tools | List[Tool] | 输入参数。代理可用的工具列表。 |
| system_message | String | 输入参数。代理使用的系统消息。 |
| return_intermediate_steps | Boolean | 输入参数。这决定是否返回代理的中间步骤。 |
| max_iterations | Integer | 输入参数。运行代理的最大迭代次数。 |
| max_execution_time | Integer | 输入参数。最大执行时间（秒）。 |
| early_stopping_method | String | 输入参数。用于提前停止的方法。 |
| verbose | Boolean | 输入参数。这决定是否打印代理的思考。 |
| agent | AgentExecutor | 输出参数。工具调用代理实例。 |

## XML Agent

此组件基于 [**Agent** 核心组件](/agents)。

此组件使用 LangChain 创建 XML Agent。
代理使用 XML 格式向 LLM 提供工具指令。
有关更多信息，请参阅 [LangChain XML Agent 文档](https://python.langchain.com/api_reference/langchain/agents/langchain.agents.xml.base.XMLAgent.html)。

### XML Agent 参数

| 名称 | 类型 | 描述 |
|------|------|-------------|
| llm | LanguageModel | 输入参数。代理使用的语言模型。 |
| user_prompt | String | 输入参数。带有 XML 格式化指令的代理自定义提示模板。 |
| tools | List[Tool] | 输入参数。代理可用的工具列表。 |
| agent | AgentExecutor | 输出参数。XML Agent 实例。 |

## 其他 LangChain 组件

LangChain bundle 中的其他组件包括以下内容：

- **Fake Embeddings**
- **HTML Link Extractor**
- **Runnable Executor**
- **Spider Web Crawler & Scraper**

## 旧版 LangChain 组件

以下 LangChain 组件被认为是旧版。
您仍然可以在流中使用这些组件，但它们不再维护，可能在未来的版本中被移除。

* **Conversation Chain**
* **LLM Checker Chain**
* **LLM Math Chain**
* **Natural Language to SQL**
* **Retrieval QA**
* **Self Query Retriever**

<details>
<summary>JSON Agent</summary>

此组件从 JSON 或 YAML 文件和 LLM 创建 JSON 代理。

它接受以下参数：

| 名称 | 类型 | 描述 |
|------|------|-------------|
| llm | LanguageModel | 输入参数。代理使用的语言模型。 |
| path | File | 输入参数。JSON 或 YAML 文件的路径。 |
| agent | AgentExecutor | 输出参数。JSON 代理实例。 |

</details>

<details>
<summary>Vector Store Info/Agent</summary>

此组件使用 LangChain 创建 Vector Store Agent。

它接受以下参数：

| 名称 | 类型 | 描述 |
|------|------|-------------|
| llm | LanguageModel | 输入参数。代理使用的语言模型。 |
| vectorstore | VectorStoreInfo | 输入参数。代理使用的向量存储信息。 |
| agent | AgentExecutor | 输出参数。Vector Store Agent 实例。 |

</details>

<details>
<summary>VectorStoreRouterAgent</summary>

此组件使用 LangChain 创建 Vector Store Router Agent。

它接受以下参数：

| 名称 | 类型 | 描述 |
|------|------|-------------|
| llm | LanguageModel | 输入参数。代理使用的语言模型。 |
| vectorstores | List[VectorStoreInfo] | 输入参数。代理路由的向量存储信息列表。 |
| agent | AgentExecutor | 输出参数。Vector Store Router Agent 实例。 |

</details>